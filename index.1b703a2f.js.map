{"mappings":"AAEA,MAAMA,EAAsB,KACxB,MAAMC,EAAYC,SAASC,cAAc,oBA8DzC,SAASC,EAAaC,GAClBA,EAAMC,UAAUC,IAAI,UACpBF,EAAMC,UAAUC,IAAI,S,CAExB,SAASC,EAAgBH,GACrBA,EAAMC,UAAUG,OAAO,UACvBJ,EAAMC,UAAUG,OAAO,S,CAG3B,SAASC,EAAQL,GACb,OAAQ,uDAAuDM,KAAKN,EAAMO,M,CAvE9EX,EAAUY,iBAAiB,UAE3BC,eAAwBC,GACpBA,EAAEC,iBAEF,IAAIC,EAiCR,SAAsBhB,GAClB,IAAIgB,EAAQ,EACRC,EAAUhB,SAASiB,iBAAiB,SAExC,IAAK,IAAIC,EAAQ,EAAGA,EAAQF,EAAQG,OAAQD,IAAS,CACjD,MAAMf,EAAQa,EAAQE,GACtBZ,EAAgBH,GAEZA,EAAMC,UAAUgB,SAAS,QACrBZ,EAAQL,KACRD,EAAaC,GACbY,KAGI,KAAhBZ,EAAMO,QACTR,EAAaC,GACbY,I,CAIG,OAAOA,C,CArDKM,GACRC,EAAW,IAAIC,SAASxB,GAO5B,GAAc,IAAVgB,EAAa,CACbS,EAASpB,UAAUqB,OAAO,aAC1BzB,SAAS0B,oBAAoB,UAAWC,GACxCC,EAAcF,oBAAoB,QAASG,GAC3CC,EAAkBJ,oBAAoB,QAAS5B,GAC/CC,EAAUgC,QAEV,IAAIC,EAAc,+CAClB,WACI,IAAK,IAAIC,KAASX,EAASY,UACP,IAAZD,EAAM,KACND,GAAe,IAAIC,EAAME,KAAK,W,CAK1CC,E,UA8CZC,EAAevC,EC7Ef,MAAMwC,EAAgBtC,SAASC,cAAc,qBAEhCuB,GADAxB,SAASC,cAAc,QACZD,SAASC,cAAc,kBAClC6B,EAAoB9B,SAASC,cAAc,mBAC3C2B,EAAgB5B,SAASC,cAAc,qBAWpDqC,EAAc3B,iBAAiB,SATNE,IACrBA,EAAEC,iBACFU,EAASpB,UAAUqB,OAAO,aAC1BzB,SAASW,iBAAiB,UAAWgB,GACrCC,EAAcjB,iBAAiB,QAASkB,GACxCC,EAAkBnB,iBAAiB,QAAS0B,EAAoB,IAM7D,MAAMR,EAAmBhB,IAC5B0B,QAAQC,IAAI,IAAK3B,GACjBW,EAASpB,UAAUqB,OAAO,aAC1BG,EAAcF,oBAAoB,QAASG,GAC3C7B,SAAS0B,oBAAoB,UAAWC,GACxCG,EAAkBJ,oBAAoB,QAASW,EAAoB,EAI1DV,EAAmBd,IACb,WAAXA,EAAE4B,OACFjB,EAASpB,UAAUqB,OAAO,aAC1BzB,SAAS0B,oBAAoB,UAAWC,GACxCC,EAAcF,oBAAoB,QAASG,GAC3CC,EAAkBJ,oBAAoB,QAASW,G","sources":["src/js/call-back/onSubmitCallBackBtn.js","src/js/call-back/call-back.js"],"sourcesContent":["import { backdrop, onEscapeKeydowm, onCallBackClose, callBackClose, submitCallBackBtn } from './call-back';\n\nconst onSubmitCallBackBtn = () => {\n    const modalForm = document.querySelector('.call-back__form');\n    modalForm.addEventListener('submit', formSend);\n\n    async function formSend(e) {\n        e.preventDefault();\n\n        let error = formValidate(modalForm);\n        let formData = new FormData(modalForm);\n\n        // formData.forEach((x, y) => {\n        //     console.log(x);\n        //     console.log(y);\n        // });\n\n        if (error === 0) {\n            backdrop.classList.toggle('is-hidden');\n            document.removeEventListener(\"keydown\", onEscapeKeydowm);\n            callBackClose.removeEventListener('click', onCallBackClose);\n            submitCallBackBtn.removeEventListener('click', onSubmitCallBackBtn);\n            modalForm.reset();\n\n            let messageToTg = `<b>Заповлено зворотній дзвінок Pradid</b>\\n`;\n            function sendMessage() {\n                for (let entry of formData.entries()) {\n                    if (entry[1] != '') {\n                        messageToTg += ` ${entry.join(\" : \")}\\n`;\n                    }\n                }\n                return messageToTg;\n            };\n            sendMessage();\n            // axios.post(URI_API, {\n            //     chat_id: CHAT_ID,\n            //     parse_mode: 'html',\n            //     text: messageToTg,\n            // });\n        }\n    };\n\n    function formValidate(modalForm) {\n        let error = 0;\n        let formReq = document.querySelectorAll('._req');\n        \n        for (let index = 0; index < formReq.length; index++) {\n            const input = formReq[index];\n            formRemoveError(input);\n\n            if (input.classList.contains('_tel')) {\n                if (telTest(input)) {\n                    formAddError(input);\n                    error++;\n                }\n            } else {\n\t\t\t\tif (input.value === '') {\n\t\t\t\t\tformAddError(input);\n\t\t\t\t\terror++;\n\t\t\t\t}\n\t\t\t}\n        }\n        return error;\n    };\n\n    function formAddError(input) {\n        input.classList.add('_error');\n        input.classList.add('_error');\n    }\n    function formRemoveError(input) {\n        input.classList.remove('_error');\n        input.classList.remove('_error');\n    }\n\n    function telTest(input) {\n        return !/^(\\s*)?(\\+)?([- _():=+]?\\d[- _():=+]?){10,14}(\\s*)?$/.test(input.value);\n    }\n};\n\nexport default onSubmitCallBackBtn;","import onSubmitCallBackBtn from './onSubmitCallBackBtn';\n\nconst headerBtnCall = document.querySelector('.header__btn-call');\nconst body = document.querySelector('body');\nexport const backdrop = document.querySelector('#callBackdrop');\nexport const submitCallBackBtn = document.querySelector('.call-back__btn');\nexport const callBackClose = document.querySelector('.call-back__close');\n\nconst onHeaderBtnCall = (e) => {\n    e.preventDefault();\n    backdrop.classList.toggle('is-hidden');\n    document.addEventListener(\"keydown\", onEscapeKeydowm);\n    callBackClose.addEventListener('click', onCallBackClose);\n    submitCallBackBtn.addEventListener('click', onSubmitCallBackBtn);\n\n}\n\nheaderBtnCall.addEventListener('click', onHeaderBtnCall)\n\nexport const onCallBackClose = (e) => {\n    console.log('e', e);\n    backdrop.classList.toggle('is-hidden');\n    callBackClose.removeEventListener('click', onCallBackClose);\n    document.removeEventListener(\"keydown\", onEscapeKeydowm);\n    submitCallBackBtn.removeEventListener('click', onSubmitCallBackBtn)\n\n};\n\nexport const onEscapeKeydowm = (e) => {\n    if (e.code === \"Escape\") {\n        backdrop.classList.toggle('is-hidden');\n        document.removeEventListener(\"keydown\", onEscapeKeydowm);\n        callBackClose.removeEventListener('click', onCallBackClose);\n        submitCallBackBtn.removeEventListener('click', onSubmitCallBackBtn);\n\n    }\n};\n\n\n"],"names":["$2c87e4f99e20c9be$var$onSubmitCallBackBtn","modalForm","document","querySelector","formAddError","input","classList","add","formRemoveError","remove","telTest","test","value","addEventListener","async","e","preventDefault","error","formReq","querySelectorAll","index","length","contains","formValidate","formData","FormData","$0e8c4518ff96a79d$export$48e901322468f6d5","toggle","removeEventListener","$0e8c4518ff96a79d$export$acc8a5254582be99","$0e8c4518ff96a79d$export$417889b074cc3ffe","$0e8c4518ff96a79d$export$4486d77404380254","$0e8c4518ff96a79d$export$82d4bf119a787778","reset","messageToTg","entry","entries","join","sendMessage","$2c87e4f99e20c9be$export$2e2bcd8739ae039","$0e8c4518ff96a79d$var$headerBtnCall","console","log","code"],"version":3,"file":"index.1b703a2f.js.map"}